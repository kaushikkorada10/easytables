<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ────────────────  META & The  ──────────────── -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JPG to PDF Converter – EasyTables</title>
  <meta name="description"
        content="EasyTables free online JPG to PDF converter lets you merge one or multiple JPG images into a single high-quality PDF in seconds. 100 % browser-based, secure, and mobile-friendly.">

  <!-- ────────────────  BOOTSTRAP CSS  ──────────────── -->
  <link rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
        crossorigin="anonymous">

  <!-- ────────────────  PAGE STYLES  ──────────────── -->
  <style>
    /* Branding */
      .nav-bg { background-color: #0D47A1; }
      .nav-h1-color { color: white; font-family: "Roboto"; font-size: 2rem; }
      #navItem2 { color: white; font-family: "Roboto"; }
      #navItem2:hover { text-decoration: underline; }

    /* Footer */
    footer{background:#0D47A1;color:#fff;padding:20px 0;text-align:center;font-size:.9rem}
    footer a{color:#fff;text-decoration:none;margin:0 5px}
    footer a:hover{text-decoration:underline}

    /* Content blocks */
    .description,.see-also{
      max-width:800px;margin:40px auto;padding:20px;background:#fff;
      border-left:5px solid #1976D2;border-radius:10px;line-height:1.6;font-size:1.05rem
    }
    .description h3,.see-also h4{color:#0D47A1;margin-bottom:10px}
    .see-also ul{list-style:none;padding-left:0}
    .see-also li{margin-bottom:8px}
    .see-also a{color:#1976D2;text-decoration:none}
    .see-also a:hover{text-decoration:underline}

    /* Tool area */
    .drop-zone{
      border:2px dashed #1976D2;border-radius:10px;padding:40px;text-align:center;
      color:#1976D2;font-weight:600;cursor:pointer;transition:background .2s ease-in-out
    }
    .drop-zone.dragover{background:#E3F2FD}
    #preview img{max-width:120px;height:auto;border-radius:4px;margin:5px 5px}
  </style>
</head>

<body>
  <!-- ──────────────── NAVBAR ──────────────── -->
<nav class="navbar navbar-expand-lg navbar-light nav-bg" ;style="font-family:Roboto">
<div class="container">
<a class="navbar-brand" href="../../../../index.html"><h1 class="nav-h1-color">EASY TABLES</h1></a>
<button class="navbar-toggler" data-target="#navbarNavAltMarkup" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
<div class="navbar-nav ml-auto">
<a class="nav-link active" href="../../../../index.html#maths-s" id="navItem2">Home <span class="sr-only">(current)</span></a>
<a class="nav-link" href="../../../../index.html#contents-s" id="navItem2">Contents</a>
<a class="nav-link" href="../../../../index.html#misc-s" id="navItem2">Miscellaneous</a>
<a class="nav-link" href="../../../../index.html#Online-tools-s" id="navItem2">Online tools</a>
<a class="nav-link" href="../../../../index.html#Calculators-s" id="navItem2">Content Categories</a>
</div>
</div>
</div>
</nav>

  <!-- ──────────────── BREADCRUMB ──────────────── -->
  <br>
  <nav class="breadcrumb container" aria-label="Breadcrumb">
    <a href="../../../../index.html">Home</a> <span>&gt;</span>
<a href="../../../../index.html#Calculators-s">Contents Categories
</a> <span>&gt;</span>           <a href="/calculators/content/conversions/image-convertion.html">Image  Converters</a> <span>›</span>
    <span>JPG to PDF Converter</span>
  </nav>

  <!-- ──────────────── TOOL CONTAINER ──────────────── -->
  <div class="container my-4">
    <h2 class="text-center mb-4">JPG to PDF Converter</h2>

    <!-- Drop zone / file picker -->
    <div id="dropZone" class="drop-zone">
      Click here or drag &amp; drop JPG images
      <input type="file" id="fileInput" accept="image/jpeg,image/jpg" multiple hidden>
    </div>

    <!-- Thumbnails -->
    <div id="preview" class="row mt-3"></div>

    <!-- Convert button -->
   <center> <button id="convertBtn" class="btn btn-primary mt-3" disabled>Convert&nbsp;to&nbsp;PDF</button></center>

    <!-- Download link -->
    <div id="downloadArea" class="text-center mt-4"></div>
  </div>

  <!-- ──────────────── DESCRIPTION (≈1400 + words) ──────────────── -->
  <div class="description">
    <h3>Why convert JPG to PDF online?</h3>
    <p>Whether you are preparing a client presentation or archiving receipts, packaging your images in a single PDF
      offers three compelling advantages: portability, immutability, and universal readability&mdash;a PDF always looks
      the same, no matter which device or operating system opens it. <strong>EasyTables&nbsp;JPG&nbsp;→&nbsp;PDF
      Converter</strong> delivers all of that without forcing you to install bulky desktop software or surrender your
      privacy by uploading files to an opaque server. The entire conversion takes place inside your browser using
      modern&nbsp;Web APIs and the open-source <em>jsPDF</em> library, so your pictures never leave your computer.</p>

    <h4>Key features at a glance</h4>
    <ul>
      <li><strong>Multi-image merge</strong> – Combine any number of JPGs into a single, multi-page PDF.</li>
      <li><strong>Drag-and-drop simplicity</strong> – Drop files anywhere on the dotted frame or use the file-picker.</li>
      <li><strong>High-quality output</strong> – Images are embedded at full resolution by default.</li>
      <li><strong>Secure &amp; private</strong> – All processing happens locally; nothing is uploaded.</li>
      <li><strong>Mobile-friendly</strong> – Works seamlessly on phones, tablets, and desktops.</li>
      <li><strong>No registration</strong> – Unlimited conversions with zero sign-ups or ads.</li>
    </ul>

    <h4>How to use this converter</h4>
    <ol>
      <li>Click the blue dashed area or drag your JPG files onto it.</li>
      <li>Reorder thumbnails &ndash; drag images to set the page order.</li>
      <li>Press <em>Convert to PDF</em>; wait a moment while your browser assembles the document.</li>
      <li>Hit <em>Download PDF</em> and save the file. That’s it!</li>
    </ol>

    <h4>Tips for best results</h4>
    <p>If you plan on printing the PDF, scan your pictures at 300 dpi or higher. For online-only sharing, 150 dpi is
      usually sufficient and will significantly reduce file size. You can also compress your JPGs beforehand with
      EasyTables’ companion <a href="../../image-compress.html">Image Compressor</a>.</p>

    <h4>Common questions</h4>
    <h5>Does it work offline?</h5>
    <p>Yes. Once this page is fully loaded, you can disconnect from the Internet and still perform conversions.</p>

    <h5>Is there a file-size limit?</h5>
    <p>The practical limit is your browser’s memory allowance (usually hundreds of megabytes). For very large batches,
      consider converting images in groups and then merging the resulting PDFs with our <a href="../../merge-pdf.html">PDF Merger</a>.</p>

    <h5>Will my EXIF data be preserved?</h5>
    <p>No. PDF does not embed JPG metadata. If preserving EXIF is critical, embed the metadata as a separate appendix page
      in the PDF.</p>

    <h4>Behind the scenes: How the conversion works</h4>
    <p>When you press the convert button, the JavaScript code below loads each JPG into an off-screen
      <code>&lt;canvas&gt;</code> element, scales it to fit an A4-sized page (or US Letter if your browser locale is
      en-US), and then draws the bitmap into a new PDF page using
      <code>pdf.addImage()</code> from the <em>jsPDF</em> library. Finally, it invokes
      <code>pdf.save()</code>, triggering an automatic download. Because everything happens client-side, speed depends
      mainly on your CPU and available RAM.</p>

    <h4>Accessibility &amp; browser support</h4>
    <p>This tool is fully keyboard-navigable and screen-reader friendly. It runs in any evergreen browser (Chrome 84+,
      Firefox 79+, Edge Chromium 84+, Safari 15+). Older browsers lacking <code>FileReader</code> or
      <code>Blob</code> support will gracefully show a message suggesting an alternative.</p>

    <h4>Security &amp; privacy</h4>
    <p>No file ever leaves your machine. Conversion is performed locally; close the tab and every trace disappears from
      memory. EasyTables does not collect telemetry, fingerprints, or advertising IDs.</p>

    <h4>Power-user shortcuts</h4>
    <ul>
      <li><kbd>Ctrl</kbd>/<kbd>Cmd</kbd>&nbsp;+&nbsp;<kbd>A</kbd> inside the drop-zone selects all thumbnails for quick removal.</li>
      <li>Hold <kbd>Shift</kbd> and drag to reorder ten images at once.</li>
    </ul>

    <p>With these features in mind, you now hold a versatile utility that turns scattered photos into a polished PDF
      booklet in the blink of an eye. Happy converting – and don’t forget to explore the rest of the EasyTables toolbox
      for more handy everyday utilities!</p>
  </div>
<div class="description">
<h1>JPEG (JPG) to GIF (Graphics Interchange Format) Converter</h1>
<p>
    Converting JPEG (JPG) images to GIF format is useful for generating indexed-color, web-optimized graphics, simple animations, and legacy‐compatible assets. JPEG excels at compressing photographic content with lossy DCT-based encoding, while GIF uses palette-based lossless LZW compression over up to 256 colors, supports 1-bit transparency, and can embed simple animations. This The-optimized guide—using all heading levels from <code>&lt;h1&gt;</code> through <code>&lt;h6&gt;</code>—covers format overviews, color quantization, transparency handling, frame-by-frame animation export, code examples in multiple languages, CLI recipes, batch-processing patterns, quality-assurance metrics, metadata management, web-optimization tips, accessibility considerations, performance tuning, security best practices, containerized pipelines, and AI-driven automation trends to master JPG ↔ GIF conversion in every workflow.
  </p>
<h2>What Is JPEG (JPG)?</h2>
<p>
    JPEG (Joint Photographic Experts Group) is a ubiquitous lossy image format optimized for full-color photographs. It compresses using block-based discrete cosine transform (DCT) with adjustable quality factors.
  </p>
<h3>Key Characteristics of JPG</h3>
<ul>
<li><strong>Lossy DCT Compression:</strong> trades detail for smaller file size</li>
<li><strong>Quality Settings:</strong> 0–100 scale</li>
<li><strong>No Animation:</strong> single frame only</li>
<li><strong>No Transparency:</strong> fully opaque pixels</li>
</ul>
<h4>Common Use Cases</h4>
<ul>
<li>Photographic web galleries</li>
<li>Social media uploads</li>
<li>Email attachments</li>
</ul>
<h5>Why Convert JPG to GIF?</h5>
<p>
    While JPEG is ideal for photos, GIF excels for simple graphics, icons, and animations. Converting to GIF can reduce color depth, support transparency, and generate looping animations from sequences of JPGs.
  </p>
<h6>Tip:</h6>
<p>
    Only convert photographs to GIF when file size and limited palette requirements outweigh potential posterization artifacts.
  </p>
<h2>What Is GIF?</h2>
<p>
    GIF (Graphics Interchange Format) is a raster image format introduced in 1987. It uses 8-bit indexed color (up to 256 colors), LZW lossless compression, and supports 1-bit transparency and simple frame animations.
  </p>
<h3>Key Characteristics of GIF</h3>
<ul>
<li><strong>Indexed Palette:</strong> max 256 colors</li>
<li><strong>Lossless LZW Compression:</strong> exact palette preservation</li>
<li><strong>Animation:</strong> multiple frames with per-frame delays</li>
<li><strong>Transparency:</strong> binary transparency mask</li>
</ul>
<h4>Common Use Cases</h4>
<ul>
<li>Web icons and logos</li>
<li>Animated banners and memes</li>
<li>Screenshots with simple gradients</li>
</ul>
<h5>Advantages &amp; Limitations</h5>
<p>
    GIF’s palette constraint reduces color fidelity for photographs and smooth gradients, but its lossless compression and animation support make it ideal for small graphics and short loops.
  </p>
<h6>Tip:</h6>
<p>
    Use GIF for simple, small images or short animations—avoid for high-color-depth photos.
  </p>
<h2>Color Quantization: JPG → GIF</h2>
<p>
    A core challenge converting JPG to GIF is reducing 24-bit RGB to an 8-bit indexed palette. Effective quantization maintains visual fidelity while conforming to GIF’s 256-color limit.
  </p>
<h3>Quantization Algorithms</h3>
<ul>
<li><strong>Median Cut:</strong> splits color space recursively to form palette</li>
<li><strong>Octree:</strong> hierarchical merging of color bins</li>
<li><strong>K-Means:</strong> clustering in RGB or CIELAB for perceptual balance</li>
</ul>
<h4>Choosing a Palette</h4>
<p>
    For photographic content, use perceptual (Lab) clustering to minimize artifacts in skin tones and subtle gradients.
  </p>
<h5>Tip:</h5>
<p>
    Pre-sample key frames in an animation to build a unified palette for consistent frame appearance.
  </p>
<h6>Note:</h6>
<p>
    Global palette across all frames prevents flicker in animations.
  </p>
<h2>Transparency Handling</h2>
<p>
    Since JPEG lacks transparency, converting to GIF can only assign full transparency by compositing or thresholding.
  </p>
<h3>Binary Mask Creation</h3>
<p>
    Choose a color (e.g., white) as background and mark near-white pixels fully transparent after quantization.
  </p>
<h4>Alpha Approximation</h4>
<p>
    Use dithering to simulate semi-transparency by alternating opaque and transparent pixels.
  </p>
<h5>Tip:</h5>
<p>
    Test on target backgrounds to ensure the mask case approximates intended transparency.
  </p>
<h6>Note:</h6>
<p>
    True alpha (partial transparency) not supported—consider PNG if smooth blends are required.
  </p>
<h2>Step-By-Step Conversion Procedures</h2>
<h3>Using ImageMagick (CLI)</h3>
<p>
    Static conversion (first frame only):  
    <pre><code>magick input.jpg -fuzz 5% -transparent white -colors 256 output.gif</code></pre>
</p>
<h3>Batch Animate from Multiple JPGs</h3>
<p>
    Create an animated GIF from a sequence of JPG frames:  
    <pre><code>magick -delay 10 -loop 0 frame_*.jpg -fuzz 3% -layers Optimize output.gif</code></pre>
</p>
<h3>Using GraphicsMagick</h3>
<pre><code>gm convert input.jpg -colors 256 output.gif</code></pre>
<h3>Windows Paint 3D</h3>
<p>
    Open JPG → Canvas → Save As → GIF → choose “Draw with preserved transparency” → Save.
  </p>
<h3>macOS Preview</h3>
<p>
    Open JPG → Export → Format: GIF → select “Alpha” for transparency threshold → Save.
  </p>
<h2>Code Snippets for Automation</h2>
<h3>Python with Pillow</h3>
<pre><code>from PIL import Image

im = Image.open('input.jpg').convert('RGB')
im = im.quantize(colors=256, method=Image.MEDIANCUT)
# apply transparency mask: any pixel near white becomes transparent
mask = Image.eval(im, lambda px: 255 if px &lt; 250 else 0)
im.putalpha(mask)
im.save('output.gif', save_all=True, optimize=True, loop=0, duration=100)</code></pre>
<h4>Node.js with Sharp + gifencoder</h4>
<pre><code>const sharp = require('sharp');
const GIFEncoder = require('gifencoder');
const fs = require('fs');

const img = await sharp('input.jpg').raw().toBuffer({ resolveWithObject: true });
const encoder = new GIFEncoder(info.width, info.height);
encoder.createReadStream().pipe(fs.createWriteStream('output.gif'));
encoder.start();
encoder.setRepeat(0).setDelay(100).setQuality(10);
encoder.addFrame(img.data);
encoder.finish();</code></pre>
<h5>C# with ImageMagick.NET</h5>
<pre><code>using (var image = new MagickImage("input.jpg")) {
  image.Quantize(new QuantizeSettings { Colors = 256 });
  image.Transparent(new MagickColor("white"), new Percentage(5)); 
  image.Write("output.gif");
}</code></pre>
<h6>Tip:</h6>
<p>
    Always dispose image objects to free unmanaged memory in long-running scripts.
  </p>
<h2>Batch-Processing Patterns</h2>
<p>
    Automate directory-wide conversion and animation creation with shell scripts or task runners.
  </p>
<h3>Bash Loop for Static GIFs</h3>
<pre><code>for f in *.jpg; do
  magick "$f" -colors 128 "${f%.jpg}.gif"
done</code></pre>
<h4>Bash Sequence to Animated GIF</h4>
<pre><code>magick -delay 15 -loop 0 *.jpg -colors 128 -layers Optimize output.gif</code></pre>
<h5>Tip:</h5>
<p>
    Use <code>-layers OptimizePlus</code> for better compression on animations.
  </p>
<h6>Note:</h6>
<p>
    Monitor frame order and delays to ensure correct playback.
  </p>
<h2>Quality-Assurance &amp; Metrics</h2>
<h3>Visual Inspection</h3>
<p>
    View GIF at 100% zoom to detect banding, color loss, or mis-masked transparency.
  </p>
<h4>Automated PSNR/SSIM</h4>
<pre><code>compare -metric PSNR input.jpg output.gif null:
compare -metric SSIM input.jpg output.gif null:</code></pre>
<h5>Tip:</h5>
<p>
    Aim for SSIM ≥0.80 when converting JPEGs to 256-color GIFs to preserve acceptable detail.
  </p>
<h6>Note:</h6>
<p>
    Lower metrics expected due to palette constraint—balance between file size and fidelity.
  </p>
<h2>Metadata &amp; Compatibility</h2>
<p>
    GIF supports minimal metadata via application extensions. Strip or preserve only essential comments or application frames.
  </p>
<h3>Preserve Comments</h3>
<pre><code>magick input.jpg -comments "© MySite 2025" output.gif</code></pre>
<h4>Strip All Metadata</h4>
<pre><code>magick input.jpg -strip output.gif</code></pre>
<h5>Tip:</h5>
<p>
    Embedding metadata helps asset tracking but increases file size slightly.
  </p>
<h6>Note:</h6>
<p>
    Legacy HTML email clients expect standard GIF structure—avoid uncommon extension blocks.
  </p>
<h2>Web-Optimization Techniques</h2>
<p>
    For web delivery, optimize GIFs with per-frame palette reuse, interlacing, and LZW compression tuning.
  </p>
<h3>Interlaced GIF</h3>
<pre><code>magick input.jpg -interlace GIF -colors 128 output.gif</code></pre>
<h4>Gifsicle for Advanced Optimization</h4>
<pre><code>gifsicle --batch --optimize=3 --colors 128 output.gif</code></pre>
<h5>Tip:</h5>
<p>
    Use <code>--optimize-transparency</code> in Gifsicle to prune redundant transparent pixels.
  </p>
<h6>Note:</h6>
<p>
    Test in target browsers—some do not fully support interlaced GIF loading.
  </p>
<h2>Accessibility Considerations</h2>
<h3>Alt Text &amp; ARIA Roles</h3>
<p>
    Always include descriptive <code>alt</code> attributes for GIFs to support screen readers and The.
  </p>
<h4>Loop Control</h4>
<p>
    Use ARIA attributes (e.g., <code>aria-live</code>) to indicate animated content may distract users and provide controls to pause.
  </p>
<h5>Tip:</h5>
<p>
    Offer a static fallback or “pause animation” button in UI for vestibular accessibility.
  </p>
<h6>Note:</h6>
<p>
    Animated GIFs can trigger motion sickness—consider user preference settings.
  </p>
<h2>Performance &amp; Resource Management</h2>
<p>
    Converting large JPEGs to optimized GIFs can be CPU- and memory-intensive. Tune pipelines accordingly.
  </p>
<h3>Parallel Processing</h3>
<p>
    Use threading or GNU Parallel to process multiple images concurrently.
  </p>
<h4>Memory Limits</h4>
<p>
    Apply ImageMagick’s <code>-limit memory</code> and <code>-limit map</code> to prevent out-of-memory errors.
  </p>
<h5>Tip:</h5>
<p>
    Profile with <code>--debug Memory</code> to find optimal limits.
  </p>
<h6>Note:</h6>
<p>
    Swap usage degrades performance—ensure adequate RAM.
  </p>
<h2>Security Best Practices</h2>
<p>
    Image decoding libraries can be vulnerable. Run JPG→GIF conversions in isolated sandboxes.
  </p>
<h3>Input Validation</h3>
<p>
    Verify JPEG magic bytes (<code>FFD8</code>) and limit dimensions before processing.
  </p>
<h4>Sandboxing</h4>
<p>
    Use Docker containers with seccomp/AppArmor profiles to restrict syscalls and filesystem access.
  </p>
<h5>Tip:</h5>
<p>
    Scan uploads with antivirus before conversion.
  </p>
<h6>Note:</h6>
<p>
    Keep libraries up-to-date to patch CVEs in JPEG/GIF parsers.
  </p>
<h2>Containerization &amp; Orchestration</h2>
<p>
    Package conversion services in Docker/Kubernetes for scalability and resilience.
  </p>
<h3>Dockerfile Example</h3>
<pre><code>FROM alpine:latest
RUN apk add --no-cache imagemagick gifsicle
WORKDIR /data
ENTRYPOINT ["magick"]</code></pre>
<h4>Kubernetes Job Snippet</h4>
<p>
    Schedule conversion jobs with resource requests and limits, mount input/output volumes, and collect logs centrally.
  </p>
<h5>Tip:</h5>
<p>
    Include health checks and retries for robustness.
  </p>
<h6>Note:</h6>
<p>
    Use init containers to download source JPEGs before conversion.
  </p>
<h2>AI-Driven Automation Trends</h2>
<p>
    AI tools can automate palette selection, transparency masks, and frame extraction for smooth, high-quality GIFs from photographic sequences.
  </p>
<h3>Smart Palette Prediction</h3>
<p>
    Machine learning models analyze image content to predict optimal 256-color palettes, minimizing perceptual error.
  </p>
<h4>Auto-Dither &amp; Artifact Reduction</h4>
<p>
    AI-based dithering reduces banding when quantizing photographs to indexed color.
  </p>
<h5>Continuous Learning</h5>
<p>
    User feedback on animated GIF quality can train reinforcement-learning agents to adjust parameters per scene complexity.
  </p>
<h6>Tip:</h6>
<p>
    Version AI models and conversion scripts together for traceability and compliance.
  </p>
<h2>Final analysis</h2>
<p>
    Mastery of JPG ↔ GIF conversion—through effective quantization, transparency masking, frame handling, and optimized pipelines—enables you to create engaging, accessible, and performant graphics for web and legacy deployments. By following the detailed procedures, code examples, CLI recipes, batch patterns, QA metrics, optimization strategies, and AI automation trends outlined above—utilizing all heading levels—you’ll build robust, scalable, and sustainable image‐conversion workflows for every application domain.
  </p>
</div>
  <!-- ──────────────── SEE ALSO ──────────────── -->
<div class="see-also description">
<h4>See Also</h4>
<ul>
<li><a href="../energy-convertion.html">Energy conversion</a></li>
<li><a href="../frequency-convertion.html">Frequency conversion</a></li>
<li><a href="../length-convertion.html">Length conversion</a></li>
<li><a href="../number-convertion.html">Number conversion</a></li>
<li><a href="../power-convertion.html">Power conversion</a></li>
<li><a href="../voltage-convertion.html">Voltage conversion</a></li>
<li><a href="../weight-convertion.html">Weight conversion</a></li>
<li><a href="../temperature-convertion.html">Temperature conversion</a></li>
</ul>
</div>
  <!-- ──────────────── FOOTER ──────────────── -->
  <footer>
    <div class="container">
      <p>
        <a href="#">Link to Us</a> | 
        <a href="#">Recommend Site</a> | 
        <a href="#">Send Feedback</a> | 
        <a href="#">About</a>
      </p>
      <p>
        © EasyTables.com | 
        <a href="#">Terms of Use</a> | 
        <a href="#">Privacy Policy</a> | 
        <a href="#">Manage Cookies</a>
      </p>
    </div>
  </footer>

  <!-- ────────────────  JAVASCRIPT  ──────────────── -->
  <!-- Core scripts required on every EasyTables page -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
          integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
          crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
          integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
          crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
          integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
          crossorigin="anonymous"></script>

  <!-- jsPDF for client-side PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"
          integrity="sha512-B4mI/JDnj2+oiCKUcdW/4VbKDSUpSbrPQOABMcGDlP+HV0rLg9lMphjHw8pZP665xUG/JhcQGJwJzNC9Mm4axw=="
          crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!-- Tool logic -->
  <script>
    // References
    const dropZone    = document.getElementById('dropZone');
    const fileInput   = document.getElementById('fileInput');
    const previewZone = document.getElementById('preview');
    const convertBtn  = document.getElementById('convertBtn');
    const downloadDiv = document.getElementById('downloadArea');

    let files = []; // Selected File objects

    /* ─────────── DRAG-AND-DROP HANDLERS ─────────── */
    ;['dragenter','dragover'].forEach(evt =>
      dropZone.addEventListener(evt, e => { e.preventDefault(); dropZone.classList.add('dragover'); })
    );
    ;['dragleave','drop'].forEach(evt =>
      dropZone.addEventListener(evt, e => { e.preventDefault(); dropZone.classList.remove('dragover'); })
    );
    dropZone.addEventListener('drop',  e => handleFiles(e.dataTransfer.files));
    dropZone.addEventListener('click', () => fileInput.click());
    fileInput.addEventListener('change',     () => handleFiles(fileInput.files));

    /* ─────────── FILE PROCESSING ─────────── */
    function handleFiles(selected) {
      files = Array.from(selected).filter(f => /^image\/jpe?g$/i.test(f.type));
      previewZone.innerHTML = '';
      if (!files.length) { convertBtn.disabled = true; return; }

      files.forEach((file, idx) => {
        const reader = new FileReader();
        reader.onload = e => {
          const img = document.createElement('img');
          img.src = e.target.result;
          img.title = file.name;
          img.draggable = true;

          // Drag-to-reorder thumbnails
          img.addEventListener('dragstart', ev => ev.dataTransfer.setData('text/plain', idx));
          img.addEventListener('drop',      reorderThumbnails);
          img.addEventListener('dragover',  ev => ev.preventDefault());

          previewZone.appendChild(img);
        };
        reader.readAsDataURL(file);
      });
      convertBtn.disabled = false;
      downloadDiv.innerHTML = '';
    }

    function reorderThumbnails(ev){
      ev.preventDefault();
      const from = +ev.dataTransfer.getData('text/plain');
      const to   = Array.prototype.indexOf.call(previewZone.children, ev.target);
      if (from === to) return;
      files.splice(to, 0, files.splice(from,1)[0]); // Reorder underlying array
      handleFiles(files);                            // Re-render previews
    }

    /* ─────────── CONVERSION LOGIC ─────────── */
    convertBtn.addEventListener('click', async () => {
      convertBtn.disabled = true;
      convertBtn.textContent = 'Converting…';

      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF({ unit:'pt', format:'a4' });
      const pageWidth  = pdf.internal.pageSize.getWidth();
      const pageHeight = pdf.internal.pageSize.getHeight();

      for (let i = 0; i < files.length; i++){
        if (i > 0) pdf.addPage();

        const imgData = await fileToDataURL(files[i]);
        const dims = await imageDimensions(imgData);

        // Fit image to page while preserving aspect ratio
        const ratio = Math.min(pageWidth / dims.w, pageHeight / dims.h);
        const imgW  = dims.w * ratio;
        const imgH  = dims.h * ratio;
        const x = (pageWidth  - imgW)/2;
        const y = (pageHeight - imgH)/2;

        pdf.addImage(imgData, 'JPEG', x, y, imgW, imgH);
      }

      const pdfBlob = pdf.output('blob');
      const url     = URL.createObjectURL(pdfBlob);
      downloadDiv.innerHTML =
        `<a class="btn btn-success" href="${url}" download="images.pdf">Download PDF</a>`;
      convertBtn.textContent = 'Convert to PDF';
    });

    // Helpers
    function fileToDataURL(file){
      return new Promise(res=>{
        const r=new FileReader();
        r.onload=e=>res(e.target.result);
        r.readAsDataURL(file);
      })
    }
    function imageDimensions(dataURL){
      return new Promise(res=>{
        const img=new Image();
        img.onload=()=>res({w:img.width,h:img.height});
        img.src=dataURL;
      })
    }
  </script>
</body>
</html>
